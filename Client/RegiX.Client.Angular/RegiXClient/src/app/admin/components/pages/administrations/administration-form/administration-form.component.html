<tl-basic-form
  [baseForm]="this"
  *ngIf="formGroup"
>
  <div>
    <div *ngIf="isDataLoading">
      <div>
        <igx-circular-bar
          [animate]="true"
          [indeterminate]="true"
          [textVisibility]="true"
        ></igx-circular-bar>
      </div>
    </div>
    <form
      [formGroup]="formGroup"
      (submit)="onSubmit($event)"
      *ngIf="isDataLoaded && !isDataLoading"
    >
      <div class="input-group">
        <tl-form-group class="form-group-wrapper">
          <igx-input-group>
            <input
              class="form-input"
              igxInput
              name="name"
              type="text"
              formControlName="name"
              tlFormGroupRef
            />
            <label igxLabel for="name">Име</label>
          </igx-input-group>
        </tl-form-group>
      </div>
      <div class="input-group">
        <tl-form-group class="form-group-wrapper">
          <igx-input-group>
            <input
              class="form-input"
              igxInput
              name="displayName"
              type="text"
              formControlName="displayName"
              tlFormGroupRef
            />
            <label igxLabel for="displayName">Име за покзаване</label>
          </igx-input-group>
        </tl-form-group>
      </div>

      <div class="input-group">
        <tl-form-group class="form-group-wrapper">
          <igx-input-group>
            <input
              class="form-input"
              igxInput
              name="code"
              type="text"
              formControlName="code"
              tlFormGroupRef
            />
            <label igxLabel for="code">Код</label>
          </igx-input-group>
        </tl-form-group>
      </div>

      <div class="input-group">
        <tl-form-group class="form-group-wrapper">
          <igx-input-group>
            <input
              class="form-input"
              igxInput
              name="acronym"
              type="text"
              formControlName="acronym"
              tlFormGroupRef
            />
            <label igxLabel for="acronym">Акроним</label>
          </igx-input-group>
        </tl-form-group>
      </div>

      <div class="input-group">
        <tl-form-group class="form-group-wrapper">
          <igx-input-group>
            <input
              class="form-input"
              igxInput
              name="oid"
              type="text"
              formControlName="oid"
              tlFormGroupRef
            />
            <label igxLabel for="oid">OID</label>
          </igx-input-group>
        </tl-form-group>
      </div>

      <ng-template ngxPermissionsOnly="GLOBAL_ADMIN">
      <div class="input-group">
        <tl-form-group class="form-group-wrapper">
          <igx-input-group>
            <input
              class="form-input"
              igxInput
              name="certificateThumbprint"
              type="text"
              formControlName="certificateThumbprint"
              tlFormGroupRef
            />
            <label igxLabel for="certificateThumbprint">Certificate thumbprint</label>
          </igx-input-group>
        </tl-form-group>
      </div>
     </ng-template>

     <ng-template ngxPermissionsOnly="GLOBAL_ADMIN">
      <div >
        <tl-form-group class="form-group-wrapper">
          <igx-select
            [(ngModel)]="selectedStoreNameEnum"
            #selectType
            name="certificateStore"
            formControlName="certificateStore"
            tlFormGroupRef
            class="input-group"
          >
            <igx-select-item
              *ngFor="let storeNameEnum of storeNameEnums"
              [value]="storeNameEnum.name"

            >
              {{ storeNameEnum.name}}
            </igx-select-item>
            <label igxLabel for="certificateStore">Certificate store</label>
          </igx-select>
        </tl-form-group>
      </div>
    </ng-template>

    <ng-template ngxPermissionsOnly="GLOBAL_ADMIN">
      <div class="input-group">
        <tl-form-group class="form-group-wrapper">
          <igx-checkbox
            [disabled]="isShowForm()"
            name="isMultitenantAuthority"
            formControlName="isMultitenantAuthority"
            tlFormGroupRef
          >Мултитенант
          </igx-checkbox>
        </tl-form-group>
      </div>
     </ng-template>
    </form>
  </div>
</tl-basic-form>
